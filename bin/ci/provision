#!/usr/bin/env bash

curl https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get install -y ca-certificates curl gnupg git zip build-essential cmake libboost-all-dev libssl-dev libdouble-conversion-dev pkg-config
sudo apt-add-repository 'deb http://apt.llvm.org/jammy/ llvm-toolchain-jammy-14 main'
sudo apt-add-repository 'deb-src http://apt.llvm.org/jammy/ llvm-toolchain-jammy-14 main'
sudo apt-get update
sudo apt-get install -y clang-14

export CC=clang-14
export CXX=clang++-14
export VCPKG_DISABLE_METRICS=1
git clone https://github.com/Microsoft/vcpkg.git
./vcpkg/bootstrap-vcpkg.sh
./vcpkg/vcpkg install
export VCPKG_ROOT="${PWD}/vcpkg"
