(def m {:wow 1})

; Metadatable
(assert (= {} (with-meta {} m)))
(assert (= m (meta (with-meta {} m))))

(assert (= [] (with-meta [] m)))
(assert (= m (meta (with-meta [] m))))

(assert (= 'foo (with-meta 'foo m)))
(assert (= m (meta (with-meta 'foo m))))

; TODO: List literals
;(assert (= m (meta (with-meta [] m))))

; TODO: String literals
;(assert (= m (meta (with-meta "" m))))

; TODO: Set literals
;(assert (= m (meta (with-meta #{} m))))

:success
