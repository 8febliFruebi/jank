language: cpp
compiler:
  - gcc
  - clang
env:
  - analyze=false

sudo: false

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
      - llvm-toolchain-precise
      - boost-latest
    packages:
      - g++-5
      - gcc-5
      - clang
      - clang-3.7
      - llvm-3.7
      - libboost-system1.55-dev
      - libboost-regex1.55-dev
cache:
  -apt

before_install:
  - if [[ "$CXX" == "clang++" ]]; then
      export CXX=clang++-3.7; export CC=clang-3.7;
    fi
  - if [[ "$CXX" == "g++" ]]; then
      export CXX=g++-5; export CC=gcc-5;
    fi

script:
  - ./travis.sh

notifications:
  email:
    on_success: change
    on_failure: always
  irc:
    channels:
      - "chat.freenode.net#jank"
    on_success: always
    on_failure: always
    use_notice: true
